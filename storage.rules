rules_version = '2';

service firebase.storage {
  match /b/{bucket}/o {
    
    // Site Images - Public read, admin-only write
    match /sites/{siteId}/{imageFile} {
      allow read: if true; // Anyone can view site images
      allow write: if request.auth != null && request.auth.uid == 'k7RB8ZiuYKbO9JV3mEKCIRv0Pij2'; // Only admin can upload
    }
    
    // Hero/Banner Images - Public read, admin-only write
    match /images/{imageType}/{imageFile} {
      allow read: if true; // Anyone can view images
      allow write: if request.auth != null && request.auth.uid == 'k7RB8ZiuYKbO9JV3mEKCIRv0Pij2'; // Only admin can upload
    }
    
    // Booking Documents/Receipts - Admin only
    match /bookings/{bookingId}/{fileName} {
      allow read: if request.auth != null && request.auth.uid == 'k7RB8ZiuYKbO9JV3mEKCIRv0Pij2';
      allow write: if request.auth != null && request.auth.uid == 'k7RB8ZiuYKbO9JV3mEKCIRv0Pij2';
    }
  }
}
